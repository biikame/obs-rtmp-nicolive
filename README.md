RTMP NicoLive Plugin for OBS Studio
==========================================

ニコニコ生放送用 OBS Sudio プラグイン

OBS Studio 対応バージョン: 0.16.x 以上

新配信(β)についての注意事項
----------------------------

v2.1.0から新配信(β)での配信に対応しています。しかし、OBS Studio 0.16.2 では、放送終了後の強制切断により、OBS Studio が再配信できない、正常に終了できないという現象が確認されています(このプラグインの有無に関わらず)。新配信(β)で連続して配信を行う場合は、OBS Studio を一旦強制終了後に再度起動して配信を行うようにしてください。

Windows で配信が正常に開始できないときがある #18
------------------------------------------------

Windows で特定条件時に配信開始がフリーズしたかのように動作するときがあります。原因調査中です。枠を取ってから起動するなど、条件に合致しないよう回避をお願いします。詳細は [issues#18](https://github.com/raccy/obs-rtmp-nicolive/issues/18) を確認してください。

概要
----

ニコニコ生放送の配信用URLとストリームキーを自動取得して、[OBS Stuido (obs-studio)](https://obsproject.com) で簡単に配信できるようにするプラグインです。

インストール方法
----------------

[インストール方法](https://github.com/raccy/obs-rtmp-nicolive/wiki/%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E6%96%B9%E6%B3%95) をお読み下さい。

使い方
------

配信先を「ニコニコ生放送」にして、ユーザ名とパスワード、または、ユーザーセッション (ブラウザのクッキーに保存されている「user\_session\_数字\_16進数」という文字列) をいれて下さい。ブラウザで生放送枠を取得して、「配信開始」を押すとそのまま配信できます。RTMP の URL やストリームキーを手動で設定する必要はありません。

なお、ユーザ名とパスワード形式でもセッションは消費されません。

このプラグイン自体には枠を自動で取得したり、延長したりすることはできません。他のツールとあわせて使用して下さい。

### 便利かもしれない機能その1 Viqo連携 ###

ログインタイプを「Viqoの設定を読み込む」にすると、[Viqo](https://github.com/diginatu/Viqo) の設定からユーザーセッションを取得できます。

### 便利かもしれない機能その2 ビットレート調整 ###

「映像ビットレートを自動調整」を有効にすると、現在の放送枠で配信可能なビットレート値を確認し、映像ビットレートを自動的に調整してくれます。ただし、音声ビットレートは調整してくれませんので、事前に設定しておいて下さい。

### 便利かもしれない機能その3 監視 ###

「自動で配信開始と枠移動を行う」を有効にすると、監視間隔のタイミングでニコ生の情報を確認します。配信可能な放送枠があれば自動的に配信を開始し、また、配信中の放送枠が終了している場合は自動的に配信を終了します。枠が切り替わるタイミングの場合、放送終了予定時間から約10秒後に確認し、新しい放送枠があればそちらに配信を切り替えてくれます。

Viqoの自動枠取り機能とあわせて使うとほぼ自動化されて、とても楽です。

## 含まれるライブラリ

* pugixml 1.8.1
* json.hpp JSON for Modern C++ 2.1.1
* SQLite 3.18.0
